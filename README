# üìä BolsaView - Sistema de Monitoramento de A√ß√µes

Sistema de monitoramento em tempo real de a√ß√µes da B3 com alertas via Telegram.

**Stack:** Django + RabbitMQ + PostgreSQL + Telegram Bot

---

## ‚öôÔ∏è **CONFIGURA√á√ÉO INICIAL (Fazer apenas 1 vez)**

### 1. **Instalar Depend√™ncias**
```powershell
python -m venv .venv
.venv\Scripts\Activate.ps1
pip install -r requirements.txt
```
###Configurar .env 
# API de acoes Brapi
BRAPI_TOKEN=token_brapi

# RabbitMQ Cloud AMQP
CLOUDAMQP_URL=url_cloudamqp

# RabbitMQ Local (backup)
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=user
RABBITMQ_PASS=password
RABBITMQ_VHOST=/

# PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=monitoramento_acoes
DB_USER=postgres
DB_PASS=admin

#TELEGRAM_BOT
TELEGRAM_BOT_TOKEN=token_bot_telegram


# API Brapi
BRAPI_URL=https://brapi.dev/api/quote


### 2. **Configurar Banco de Dados**
```powershell
# Certifique-se que PostgreSQL est√° rodando
python manage.py migrate
python manage.py createsuperuser
```

### 3. **Popular A√ß√µes da B3**
```powershell
python popular_banco.py
```
‚úÖ Cadastra 100 a√ß√µes automaticamente

---

## üöÄ **RODAR O PROJETO (Abra 4 terminais)**

### **Terminal 1: Aplica√ß√£o Web**
```powershell
python manage.py runserver
```
‚û°Ô∏è Acesse: **http://localhost:8000**

### **Terminal 2: Worker Principal**
```powershell
cd monitoramento
python worker_main.py worker_1
```

### **Terminal 3: Worker Backup**
```powershell
cd monitoramento
python worker_main.py worker_2
```

### **Terminal 4: Notifica√ß√µes Telegram**
```powershell
cd monitoramento\services
python telegram_worker.py
```

---

## üì± **CONFIGURAR TELEGRAM (Opcional)**

### **1. Obter Chat ID**
```powershell
cd monitoramento\services
python telegram_bot_setup.py
```

### **2. No Telegram**
- Procure pelo seu bot
- Envie `/start`
- Copie o Chat ID recebido

### **3. Na Aplica√ß√£o**
- Acesse: http://localhost:8000/perfil
- Cole o Chat ID
- Salve

‚úÖ Pronto! Voc√™ receber√° alertas no Telegram

---

## ‚ùó **PROBLEMAS COMUNS**

### **A√ß√µes n√£o aparecem na interface**
```powershell
python popular_banco.py
```

### **Erro ao instalar depend√™ncias**
```powershell
pip install "psycopg[binary]"
```

### **Workers n√£o conectam**
- Verifique URL do CloudAMQP no arquivo `.env`
- Certifique-se que PostgreSQL est√° rodando

---

## üìù **LICEN√áA**

MIT License
